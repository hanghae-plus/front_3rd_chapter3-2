# 8주차 테스트 과제

https://www.notion.so/teamsparta/Chapter-3-2-2-1382dc3ef514807ebf29c8b01649d218?pvs=4

빠이팅!

---

#### 고민한 테스트 전략과 그 이유는 무엇인가요?

테스트 트로피

#### 단위 테스트

- 유틸 함수에 대한 테스트 작성
- 반복 일정을 추가하는 비즈니스 로직에서 사용되는 "반복 일정 생성 로직"은 단위 테스트를 통해 검증하는 것이 더 효율적이라고 생각했습니다.
- 시작일, 종료일, 반복 유형, 반복 간격을 기준으로 반복 일정 배열을 정상적으로(?) 생성했는지 확인하는 단위 테스트를 작성했기 때문에 통합 테스트에서는 반복 일정의 모든 케이스를 검증하지 않고도 프로젝트의 신뢰성을 높일 수 있다고 생각했습니다.
- 특히, 반복 일정을 생성하는 함수의 경우 조건에 따라서 루프가 많이 발생하기 때문에 통합 테스트보다는 단위 테스트를 통해 검증하는 것이 더 효율적이라고 생각했습니다.

#### 통합 테스트

- 앱의 비즈니스 로직이 정상적으로 동작하는지 검증하기 위해 통합 테스트를 도입했습니다.
- 사용자의 액션에 따라서 반복(단일) 일정 추가/삭제/수정이 정상적으로 동작하고, 화면에 기대한 결과가 렌더링되는지 테스트하는 데 통합 테스트가 적합하다고 생각했습니다.
- MSW로 API를 모킹해서 비즈니스 로직을 검증하기 쉬운 테스트 환경을 구성할 수 있었습니다.(ex: 반복 일정을 추가할 때 초기 일정이 빈 상태라면 추가된 화면에 렌더링된 일정의 개수 == 반복 일정의 개수인 것을 확인할 수 있다고 생각했습니다.)
- 모든 테스트 코드가 동일하지만, 새로운 기능을 추가할 때 기존 비즈니스 로직이 정상적으로 동작하는지 확인하는 데 매우 좋았습니다.

- 새롭게 추가된 반복 일정에 대한 요구 사항을 구현하면서 기존에 작성된 통합 테스트 코드가 사이드 이펙트를 방지해줬고, 반복 일정에 대한 테스트 코드도 작성하면서 나중에 다른 요구 사항을 추가할 때도 통합 테스트를 통해서 앱의 비즈니스 로직이 정상적으로 동작하는지 확인하면서 새로운 기능을 추가할 수 있다고 생각했습니다.

#### E2E 테스트

- 통합 테스트를 통해 확인하기 어려운 테스트 케이스를 검증하기 위해서 사용했습니다.
- 시작일이 윤년의 2월 29일(2024/02/29) 일 때 다음 해의 2월 28일에 반복 일정이 추가됐는지 검증하는 통합 테스트 코드를 작성했는데, 다음 달로 이동하는 버튼을 12번이나 클릭해서 그런지 timeout 에러가 발생했습니다..!
- 프로젝트에 새로운 기능을 추가했을 때 E2E 테스트를 실행해서 기존 비즈니스 로직이 매번 정상적으로 동작하는지 확인하는 비용을 줄일 수 있다고 생각했습니다.

- API를 모킹하지 않은 실제 브라우저 환경에서 앱이 시나리오대로 동작하는지 검증하기 위해서 E2E 테스트를 도입했습니다.
- 일정 추가/수정/삭제와 화면에 일정이 정상적으로 렌더링되는지 확인하는 테스트 코드를 작성했습니다.

---

#### 고민한 내용

- 시작일, 종료일, 반복 유형, 반복 간격을 매개 변수로 받아서 반복 일정을 반환하는 createRepeatDateRange 함수에 대한 테스트 코드를 작성했습니다.
	- 이때 "매일"을 기본 값으로 생각했기 때문에 별도의 describe로 묶어주지 않았는데, 가독성이 괜찮은지 궁금합니다.

- 단위 테스트란? 함수, 컴포넌트와 같이 독립적인 모듈에 대한 테스트 코드
- 통합 테스트란? 비즈니스 로직을 검증할 때 유용하다. 하지만 실제 API 호출을 하지 못하고, 모킹에 의존하는 경우가 있어서 실제 사용자의
플로우를 검증하지는 못한다는 한계가 있다.
- E2E 테스트란? 실제 시나리오와 가깝게 앱의 전체 워크플로우를 검증할 수 있다.
